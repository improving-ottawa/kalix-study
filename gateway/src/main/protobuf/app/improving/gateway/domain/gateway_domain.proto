syntax = "proto3";

package app.improving.gateway;

import "app/improving/order/api/order_api.proto";
import "app/improving/tenant/api/tenant_api.proto";
import "common_api.proto";
import "app/improving/organization/api/organization_api.proto";

message CreateTenant {
    tenantcontext.tenant.ApiInfo tenant_info = 1;
}

message TenantCreated {
    ApiTenantId tenant_created = 1;
}

message EstablishOrganization {
    organizationcontext.organization.ApiInfo info = 2;
    organizationcontext.organization.ApiParent parent = 3;
    repeated ApiMemberId members = 4;
    repeated ApiMemberId owners = 5;
    repeated organizationcontext.organization.ApiContacts contacts = 6;
    ApiMemberId establishingMember = 7;
    organizationcontext.organization.ApiMetaInfo meta = 8;
}

message CreateOrganization {
    EstablishOrganization establish_organization = 1;
}

message OrganizationCreated {
    ApiOrganizationId organization_created = 1;
}

message CreateOrder {
    ordercontext.order.ApiOrderInfo info = 1;
    ApiMemberId creatingMember = 2;
    ApiStoreId storeId = 3;
}

message OrderCreated {
    ApiOrderId order_created = 1;
}